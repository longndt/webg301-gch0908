{% extends "base.html.twig" %}

{% block body %}
<div class="container col-md-6 mt-5 text-center">
{# code để hiển thị flash message được gửi từ controller #}
<div class="container col-md-4">
    {% for flash in app.flashes('Success') %}
        <p class="alert alert-warning">{{ flash }}</p>
    {% endfor %}
    {% for flash in app.flashes('Error') %}
        <p class="alert alert-danger">{{ flash }}</p>
    {% endfor %}
</div>
<h1 class="text text-success">Book List</h1>
<a href="" class="btn btn-success">Add book</a>
<table class="table table-primary mt-3">
    <thead>
        <tr>
            <th>Book Id</th>
            <th>Book Title
                <a class="text-decoration-none" href="{{ path('sort_title_asc')}}">
                    <img src="{{asset('images/up.png') }}" width="20" height="20">
                </a>
                <a class="text-decoration-none" href="{{ path('sort_title_desc')}}">
                    <img src="{{asset('images/down.png') }}" width="20" height="20">
                </a>
            </th>
            <th>Book Cover</th>
            <th>Menu</th>
        </tr>
    </thead>
    <tbody>
    {% for book in books %}
        <tr>
            <td>{{ book.id }}</td>
            <td>{{ book.title }}</td>
            <td>
                <a href="{{ path ('book_detail', {'id' : book.id })}}">
                    <img src="{{ book.image }}" width="100" height="100">  
                </a>
               
            </td>
            <td>
            <a href="" class="btn btn-warning">Edit</a>
            <a href="{{ path ('book_delete', {'id' : book.id })}}" class="btn btn-danger"
            onclick="return confirm('Are you sure to delete this book ?');"
            >Delete</a>
            </td>
        </tr>
    {% endfor %}  
    </tbody>
</table>
</div>
{% endblock %}